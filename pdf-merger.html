<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>Merge PDF ‚Äî I ‚ù§ ImagePDF.Pro</title>
<meta name="description" content="Merge multiple PDF files offline into one PDF ‚Äî secure, fast & free. Drag & drop, reorder, preview and merge ‚Äî all client-side." />

<link rel="canonical" href="https://YOURDOMAIN.github.io/merge-pdf.html" />

<!-- OG / Twitter -->
<meta property="og:title" content="Merge PDF ‚Äî I ‚ù§ ImagePDF.Pro" />
<meta property="og:description" content="Merge multiple PDF files offline into one PDF ‚Äî secure, fast & free." />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />

<!-- PDF-lib -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>

<!-- JSON-LD structured data -->
<script type="application/ld+json">
{
 "@context": "https://schema.org",
 "@graph": [
  {
   "@type": "SoftwareApplication",
   "name": "Merge PDF",
   "applicationCategory": "Utility",
   "operatingSystem": "Web",
   "description": "Merge PDF files offline ‚Äî Drag, reorder & merge securely.",
   "url": "https://YOURDOMAIN.github.io/merge-pdf.html"
  },
  {
   "@type": "FAQPage",
   "mainEntity": [
    {
     "@type": "Question",
     "name": "Is this tool free?",
     "acceptedAnswer": { "@type":"Answer","text":"Yes ‚Äî it is 100% free." }
    },
    {
     "@type": "Question",
     "name": "Are my files uploaded?",
     "acceptedAnswer": { "@type":"Answer","text":"No ‚Äî merging happens in-browser, locally." }
    }
   ]
  }
 ]
}
</script>

<style>
/* SAME UI */
body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:#f6f8fb;color:#222}
header{
  background:#fff;border-bottom:1px solid #eee;padding:12px 20px;
  display:flex;justify-content:space-between;align-items:center;
  position:sticky;top:0;z-index:99;box-shadow:0 2px 8px rgba(0,0,0,.06)
}
.logo{font-size:22px;font-weight:800;color:#d9232e;cursor:pointer}
.container{max-width:980px;margin:20px auto;padding:0 15px}
.ad-box{margin:16px 0;background:#fff;border:1px dashed #aaa;border-radius:10px;padding:16px;text-align:center;font-size:14px;color:#777}

.upload-area{
  border:2px dashed #aaa;padding:22px;border-radius:12px;background:#fff;text-align:center;cursor:pointer;
}
.upload-area:hover{border-color:#d9232e}
.upload-area p{margin:8px 0;color:#444}

.preview-list{display:flex;flex-direction:column;gap:12px;margin-top:16px}
.item{
  display:flex;gap:12px;align-items:center;background:#fff;padding:10px;border-radius:10px;border:1px solid #eee;
}
.meta{flex:1}
.meta b{display:block;margin-bottom:6px}
.meta small{color:#666}

.actions{display:flex;flex-direction:column;gap:8px}
.actions button{background:#f3f4f6;border:1px solid #e5e7eb;padding:6px 8px;border-radius:6px;cursor:pointer}
.actions .primary{background:#d9232e;color:#fff;border:0}

button.main{
  background:#d9232e;color:#fff;border:0;padding:14px 28px;border-radius:10px;cursor:pointer;
  font-size:20px;font-weight:700;text-align:center;display:inline-block;margin:18px auto;
}
.clear-btn{
  background:#fff;border:1px solid #d9d9d9;color:#333;
  padding:9px 14px;border-radius:8px;cursor:pointer;font-weight:600;
}

.info{margin-top:22px;background:#fff;padding:18px;border-radius:12px;border:1px solid #eee;box-shadow:0 2px 8px rgba(0,0,0,.04)}
.info h2{color:#d9232e;margin-top:0}

footer{background:#fff;border-top:1px solid #eee;margin-top:40px;padding:16px;text-align:center;color:#555}

@media(max-width:720px){
  .item{flex-direction:column;align-items:flex-start}
  .actions{flex-direction:row}
}
</style>
</head>

<body>

<header>
  <div class="logo" onclick="location.href='index.html'">I ‚ù§ ImagePDF.Pro</div>
</header>

<div class="container">

  <!-- ‚úÖ TOP AD -->
  <div class="ad-box">[TOP AD ‚Äî paste AdSterra/AdCode]</div>

  <h1 style="text-align:center;">Merge PDF</h1>
  <p style="text-align:center;color:#666;">
     Select multiple PDF files ‚Üí Arrange ‚Üí Merge ‚Üí Download
  </p>

  <!-- Upload -->
  <div class="upload-area" id="dropZone">
    <strong>Drag & Drop PDFs Here</strong>
    <p>or click to browse</p>
    <input type="file" id="fileInput" accept="application/pdf" multiple style="display:none" />
  </div>

  <!-- MAIN BUTTON -->
  <div style="text-align:center;">
    <button id="mergeBtn" class="main">Merge PDF</button><br>
    <button id="clearBtn" class="clear-btn">Clear All</button>
  </div>

  <!-- Preview -->
  <div class="preview-list" id="list"></div>

  <!-- ‚úÖ MID AD -->
  <div class="ad-box">[MID AD ‚Äî paste AdCode]</div>

  <!-- Privacy -->
  <div class="info">
    <h2>üîê Privacy & Security</h2>
    <p>‚úÖ 100% local processing ‚Äî nothing is uploaded.</p>
    <p>‚úÖ Safe for confidential files.</p>
  </div>

  <div class="info">
    <h2>‚ú® Why This Tool?</h2>
    <p>‚ö° Fast merge</p>
    <p>üì± Works on mobile</p>
    <p>üéØ Simple UI</p>
    <p>üíª No installation needed</p>
  </div>

  <!-- ‚úÖ BOTTOM AD -->
  <div class="ad-box">[BOTTOM AD ‚Äî paste AdCode]</div>

  <div class="info">
    <h2>‚ùì FAQ</h2>
    <p><b>Is it free?</b> Yes</p>
    <p><b>Are files uploaded?</b> No ‚Äî completely offline</p>
  </div>
</div>

<footer>
  ¬© 2025 I ‚ù§ ImagePDF.Pro ‚Äî Client-side Tools
</footer>

<!-- ‚úÖ WORKING JS -->
<script>
const dropZone = document.getElementById("dropZone");
const fileInput = document.getElementById("fileInput");
const list = document.getElementById("list");
const mergeBtn = document.getElementById("mergeBtn");
const clearBtn = document.getElementById("clearBtn");

let filesArr = [];

/* Drop + browse */
dropZone.addEventListener("click",()=>fileInput.click());
dropZone.addEventListener("dragover",e=>{e.preventDefault();dropZone.style.borderColor="#d9232e"});
dropZone.addEventListener("dragleave",()=>dropZone.style.borderColor="#aaa");
dropZone.addEventListener("drop",e=>{
  e.preventDefault();
  dropZone.style.borderColor="#aaa";
  handleFiles(e.dataTransfer.files);
});
fileInput.addEventListener("change",()=>handleFiles(fileInput.files));

function handleFiles(listFiles){
  const arr = Array.from(listFiles).filter(f => f.type==="application/pdf");
  if(!arr.length) return;

  arr.forEach(file=>{
    filesArr.push({
      file,
      name:file.name,
      size:file.size
    });
  });
  render();
}

/* Render */
function render(){
  list.innerHTML = "";
  filesArr.forEach((item,i)=>{
    const row = document.createElement("div");
    row.className="item";

    const meta = document.createElement("div");
    meta.className="meta";
    const name = document.createElement("b");
    name.textContent=item.name;
    const sz = document.createElement("small");
    sz.textContent=(item.size/1024).toFixed(2)+" KB";
    meta.append(name,sz);

    const act = document.createElement("div");
    act.className="actions";

    const up=document.createElement("button");
    up.textContent="‚Üë";
    up.onclick=()=>{ if(i>0){ swap(i,i-1); }};

    const down=document.createElement("button");
    down.textContent="‚Üì";
    down.onclick=()=>{ if(i<filesArr.length-1){ swap(i,i+1); }};

    const del=document.createElement("button");
    del.textContent="Remove";
    del.onclick=()=>{ filesArr.splice(i,1); render(); };

    act.append(up,down,del);

    row.append(meta,act);
    list.append(row);
  });
}

function swap(i,j){
  [filesArr[i],filesArr[j]]=[filesArr[j],filesArr[i]];
  render();
}

/* Clear */
clearBtn.addEventListener("click",()=>{
  filesArr=[];
  fileInput.value="";
  render();
});

/* Merge ‚Üí PDF */
mergeBtn.addEventListener("click",async ()=>{
  if(!filesArr.length){
    alert("Add PDFs first!");
    return;
  }

  const { PDFDocument } = PDFLib;
  const outPdf = await PDFDocument.create();

  for(const entry of filesArr){
    const data = await entry.file.arrayBuffer();
    const pdf = await PDFDocument.load(data);
    const pages = await outPdf.copyPages(pdf, pdf.getPageIndices());
    pages.forEach(p=>outPdf.addPage(p));
  }

  const merged = await outPdf.save();
  download(merged, "merged.pdf", "application/pdf");
});

/* Download helper */
function download(data,filename,type){
  const blob=new Blob([data],{type});
  const url=URL.createObjectURL(blob);
  const a=document.createElement("a");
  a.href=url;
  a.download=filename;
  a.click();
  URL.revokeObjectURL(url);
}
</script>

</body>
</html>
