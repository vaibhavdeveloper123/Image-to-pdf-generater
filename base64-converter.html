<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>Base64 Encoder & Decoder ‚Äî I ‚ù§ ImagePDF.Pro</title>
<meta name="description" content="Convert text to Base64 and decode Base64 to text ‚Äî fast, private, and free. 100% client-side.">

<link rel="canonical" href="https://YOURDOMAIN/base64-encoder-decoder.html" />

<style>
body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:#f6f8fb;color:#222}
header{
 background:#fff;border-bottom:1px solid #eee;padding:12px 20px;
 display:flex;justify-content:space-between;align-items:center;
 position:sticky;top:0;z-index:99;box-shadow:0 2px 8px rgba(0,0,0,.06)
}
.logo{font-size:22px;font-weight:800;color:#d9232e;cursor:pointer}
.container{max-width:980px;margin:20px auto;padding:0 15px}

/* Min-height helps prevent Cumulative Layout Shift (CLS) */
.ad-box{
 margin:16px 0;background:#fff;border:1px dashed #aaa;border-radius:10px;
 padding:16px;text-align:center;font-size:14px;color:#777;
 display:flex;align-items:center;justify-content:center;
}

.box{
 background:#fff;border-radius:12px;border:1px solid #eee;
 padding:22px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,.04);
}

textarea{
 width:100%;min-height:140px;padding:12px;border-radius:8px;
 border:1px solid #ccc;font-size:15px;margin-top:12px;
 box-sizing:border-box; 
}

button{
 background:#d9232e;color:#fff;border:0;padding:12px 22px;border-radius:10px;
 cursor:pointer;font-size:16px;font-weight:600;margin-top:12px;
 transition:background .2s; 
}
button:hover{background:#c01f28}
.btn2{
 background:#fff;border:1px solid #d9232e;color:#d9232e
}
.btn2:hover{background:#f0f0f0}

label{
 display:block;
 margin-top:15px;
 text-align:left;
 font-weight:bold;
}

.info{
 margin-top:22px;background:#fff;padding:18px;border-radius:12px;
 border:1px solid #eee;box-shadow:0 2px 8px rgba(0 0 0 / 4%);
}
.info h2{color:#d9232e;margin-top:0}

footer{
 background:#fff;border-top:1px solid #eee;margin-top:40px;
 padding:16px;text-align:center;color:#555
}
</style>
</head>

<body>

<header>
 <div class="logo" onclick="location.href='index.html'">I ‚ù§ ImagePDF.Pro</div>
</header>

<div class="container" role="main">

  <div class="ad-box" id="top-ad-slot" style="min-height: 90px;">
    <noscript>Please enable JavaScript to view this ad.</noscript>
  </div>

  <h1 style="text-align:center;">Base64 Encoder / Decoder</h1>
  <p style="text-align:center;color:#666;">Convert text ‚Üî Base64 ‚Äî 100% offline</p>

  <div class="box">
    <h2>Base64 Conversion Tool</h2> 

    <label for="input"><b>Input Text or Base64</b></label>
    <textarea id="input" placeholder="Enter text OR Base64..." aria-label="Input field for text or base64"></textarea>

    <button id="encodeBtn" aria-label="Encode to Base64">Encode ‚Üí Base64</button>
    <button id="decodeBtn" class="btn2" aria-label="Decode to Text">Decode ‚Üí Text</button>

    <label for="output"><b>Output Result</b></label>
    <textarea id="output" readonly aria-label="Output field for results"></textarea>

    <button id="copyBtn" aria-label="Copy Output to clipboard">Copy Output</button>
    <button id="downloadBtn" class="btn2" aria-label="Download Output as TXT file">Download as TXT</button>

  </div>

  <div class="ad-box" id="mid-ad-slot" style="min-height: 250px; max-width: 300px; margin-left: auto; margin-right: auto;">
    <noscript>Please enable JavaScript to view this ad.</noscript>
  </div>


  <div class="info">
    <h2>üîê Privacy</h2>
    <p>‚úÖ 100% offline ‚Äî input never leaves your browser.</p>
  </div>

  <div class="info">
    <h2>‚ùì FAQ</h2>
    <p><b>Is Base64 encryption?</b></p>
    <p>No ‚Äî it is reversible. Used for encoding binary ‚Üí text.</p>

    <p><b>Is my data stored?</b></p>
    <p>No ‚Äî processed locally only.</p>
  </div>

  <div class="ad-box" id="bottom-ad-slot" style="min-height: 90px;">
    <noscript>Please enable JavaScript to view this ad.</noscript>
  </div>
</div>

<footer>
  ¬© 2025 I ‚ù§ ImagePDF.Pro ‚Äî Client-side Tools
</footer>

<script defer>
// Ad data with your keys and sizes
const adData = {
  // üîë NOTE: Please replace the 'src' value below with your actual ad network script URL!
  'top-ad-slot': { key: 'd71abad2466ac39c8d34cd4e900267b3', format: 'iframe', height: 90, width: 728, src: '//your-ad-network-domain/invoke-top.js' },
  'mid-ad-slot': { key: '3d20b33d71b53fa93676d119ed313762', format: 'iframe', height: 250, width: 300, src: '//your-ad-network-domain/invoke-mid.js' },
  'bottom-ad-slot': { key: 'd71abad2466ac39c8d34cd4e900267b3', format: 'iframe', height: 90, width: 728, src: '//your-ad-network-domain/invoke-bottom.js' }
};

/**
 * Function to dynamically create and append ad script elements ASYNCHRONOUSLY.
 * This is crucial for preventing ad loading from blocking the main page render.
 * 
 */
function loadAdDynamically(slotId, data) {
  const container = document.getElementById(slotId);
  if (!container) return;
  
  // 1. atOptions object script
  const optionsScript = document.createElement('script');
  optionsScript.type = 'text/javascript';
  optionsScript.innerHTML = `
    var atOptions = {
      'key' : '${data.key}',
      'format' : '${data.format}',
      'height' : ${data.height},
      'width' : ${data.width},
      'params' : {}
    };
  `;
  container.appendChild(optionsScript);

  // 2. Ad Network script
  const adScript = document.createElement('script');
  adScript.type = 'text/javascript';
  adScript.src = data.src;
  adScript.async = true; // <--- This ensures non-blocking load (Performance focus)
  container.appendChild(adScript);
}

// Event Listener to ensure all HTML is parsed and visible before loading external scripts
// This greatly improves the First Contentful Paint (FCP) and Time to Interactive (TTI) scores.
window.addEventListener('load', () => {
    // Delay loading of ads by 100ms
    setTimeout(() => {
        loadAdDynamically('top-ad-slot', adData['top-ad-slot']);
        loadAdDynamically('mid-ad-slot', adData['mid-ad-slot']);
        loadAdDynamically('bottom-ad-slot', adData['bottom-ad-slot']);
    }, 100);
});

// ------------------------------------
// Base64 Tool Logic (Optimized for UTF-8 and modern Clipboard API)
// ------------------------------------
const inputEl = document.getElementById("input");
const outputEl = document.getElementById("output");
const encodeBtn = document.getElementById("encodeBtn");
const decodeBtn = document.getElementById("decodeBtn");
const copyBtn = document.getElementById("copyBtn");
const downloadBtn = document.getElementById("downloadBtn");

encodeBtn.addEventListener("click", () => {
  try {
    // Correct Base64 encoding for UTF-8 characters (important for non-English text)
    const utf8Encoded = new TextEncoder().encode(inputEl.value);
    outputEl.value = btoa(String.fromCharCode(...utf8Encoded));
  } catch (e) {
    alert("Error: Could not encode the input!");
  }
});

decodeBtn.addEventListener("click", () => {
  try {
    // Correct Base64 decoding for UTF-8 characters
    const binaryString = atob(inputEl.value);
    const len = binaryString.length;
    const bytes = new Uint8Array(len);
    for (let i = 0; i < len; i++) {
      bytes[i] = binaryString.charCodeAt(i);
    }
    outputEl.value = new TextDecoder().decode(bytes);
  } catch (e) {
    alert("Error: Invalid Base64 format!");
  }
});

// Modern Clipboard API for better accessibility and reliability
copyBtn.addEventListener("click", async () => {
  try {
    await navigator.clipboard.writeText(outputEl.value);
    alert("Copied to clipboard!");
  } catch (err) {
    alert("Failed to copy! Trying fallback...");
    // Fallback for older browsers
    outputEl.select();
    document.execCommand("copy"); 
  }
});

downloadBtn.addEventListener("click", () => {
  const blob = new Blob([outputEl.value], {type: "text/plain"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "base64-output.txt";
  a.click();
  URL.revokeObjectURL(url);
});
</script>

</body>
</html>
